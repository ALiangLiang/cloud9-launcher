<html>

<head>
	<% include head %>
</head>

<body>
	<% include nav %>

	<div class="container" style="margin-top:60px">
		<div class="panel panel-default">
		  <div class="panel-heading">
		    <h3 class="panel-title">Free Ports</h3>
		  </div>
		  <div class="panel-body">
			  <form class="form-inline">
          <div class="form-group">
            <label class="sr-only" for="port">Port</label>
            <input type="text" class="form-control" id="port" placeholder="Port">
          </div>
  				<button id="add-port" type="button" class="btn btn-success">
  					<span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
  					Add Port
  				</button>
        </form>
		  </div>
		  <table class="table">
		  	<thead>
		    	<tr>
		    		<td>Port</td>
		    		<td>Public</td>
		    		<td>Usable</td>
		    		<td>Used by</td>
		    		<td>Controller</td>
		    	</tr>
		  	</thead>
		    <tbody>
					<% ports.forEach((port) => { %>
			    	<tr>
			    		<td><%= port.number %></td>
			    		<td><%= 'unknown' %></td>
			    		<td><%= 'unknown' %></td>
			    		<% console.log(port._project) %>
			    		<td><%= (!port.isFree) ? port.project.name : '(is free)' %></td>
			    		<td>
							<form method="post" action="" target="_blank">
									<button
										type="submit"
										name="target"
										class="btn btn-danger"
										value="port">
									<span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
									Remove
								</button>
							</form>
			    		</td>
			    	</tr>
					<% }); %>
		    </tbody>
		  </table>
		</div>
	</div>

	<script src="/assets/setting.js"></script>
</body>

</html>